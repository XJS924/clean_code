#### 第12章  迭进

##### 12.1 通过迭进设计达到整洁目的

> Kent Beck关于简单设计的四条规则：
>
> 1. 运行所有测试；
> 2. 不可重复；
> 3. 表达了程序员的意图；
> 4. 尽可能减少类和方法的数量；

##### 12.2 简单设计规则1:运行所有测试

> 全面测试并持续通过所有测试的系统，就是可测试的系统。
>
> 不可测试的系统同样不可验证，不可验证的系统，绝不应部署。

> 只要系统可测试，就会导向保持类短小且目的单一的设计方案。

> 遵循SRP的类，测试起来较为简单，测试编写的越多，就越能保持走向编写较易测试的代码。

> 紧耦合的代码难以编写测试。
>
> *遵循有关编写测试并持续运行测试的简单、明确的规则，系统就会更贴近OO低耦合度、高内聚度的目标。编写测试引致更好的设计。*

##### 12.3 简单设计规则2~4：重构

> **测试消除了对清理代码就会破坏代码的恐惧。**

> 应用简单设计三条规则的地方：消除重复，保证表达力，尽可能减少类和方法的数量；

##### 12.4 不可重复

> 重复是拥有良好设计系统的大敌。

> “小规模复用”可大量降低系统复杂性。要想实现大规模复用，必须理解如何实现小规模复用。

> 模板方式模式是一种移除高层级重复的通用技巧。

##### 12.5 表达力

> 软件项目的主要成本在于长期维护。为了在修改时尽量降低出现缺陷的可能性，很有必要理解系统是做什么的。

> 可以通过选用好名称来表达。

> 也可以通过保持函数和类尺寸短小来表达。短小的类和函数通常易于命名，编写，理解。

> 有太多时候，我们写出能工作的代码，就转移到下一个问题上，没有下足功夫调整代码，让后来者易于阅读。记住，下一位读代码的人很有可能是你自己。

> 所以，多少尊重一下你的手艺吧。花一点时间在每个函数和类上。选用较好的名称，将大函数切分成小函数。时时照拂自己创建的东西，用心是最珍贵的资源。

##### 12.6 尽可能少的类和方法

> 为了保持类和函数短小，我们可能会造出太多的细小类和方法。所以这条规则也主张函数和类的数量要少。

