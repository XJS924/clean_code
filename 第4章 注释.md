### 第4章 注释

> 什么也比不上放置良好的注释来得有用。什么也不会比乱七八糟的注释更有本事搞乱一个模块。什么也不会比陈旧、提供错误信息的注释更有破坏性。

> 只有代码能忠实的告诉你他做的事。那是唯一的信息来源。所以，尽管有时也需要注释，我们也该多花形式尽量减少注释量。

#### 4.1 注释不能美化糟糕的代码

#### 4.2 用代码来阐述

```java
//check to see if the employee is eligible fr full benefits
if((employee.flags& HOURLY_FLAG)&&(employee.age>65)){...}

if(employee.isEligibleForFullBenefits())
```



#### 4.3 好注释

> 有些注释时必须的，也是有利的。

##### 4.3.1 法律信息

##### 4.3.2 提供信息的注释

> 有时，用注释来提供基本信息也有其用处。

> 尽量利用函数名称传达信息。

##### 4.3.3 对意图的解释

>  有时，注释不仅提供了有关实现的有用信息，还提供了某个决定后面的意图

##### 4.3.4 阐释

> 有时，注释把某些晦涩难明的参数或返回值的意义翻译为某种可读形式，也会有用。通常，更好的方法是尽量让参数或返回值本身就足够清楚。

##### 4.3.5 警示

> 有时用于警告其他程序员会出现某种后果的注释也是有用的。

##### 4.3.6 TODO注释

> 用//TODO形式在源代码中放置要做的工作列表。

##### 4.3.7 放大

> 注释可以用来方法某种看来不合理之物的重要性。

##### 4.3.8 公共API的Javadoc

> 没有什么比被良好描述的公共API更有用和令人满意的。

#### 4.4  坏注释

##### 4.4.1 喃喃自语

> 如果只是因为你觉得应该或因为过程需要就添加注释，那就是无谓之举，如果决定写注释，就压花必要的实际确保写出最好的注释。

##### 4.4.2 多余的注释



##### 4.4.3 误导性注释

##### 4.4.4 循规式注释

> 所谓每个函数都要有Javadoc或每个变量都要有注释的规矩全然是愚蠢可笑的。这类注释徒然让代码变得散乱，满口胡言。

##### 4.4.5 日志式注释

> 有人会在每次编辑代码时，在模块开始出添加一条注释。这类注释就像是一种记录每次修改的日志。这种冗长的记录只会让模块变动凌乱不堪，应当全部删除。

##### 4.4.6 废话注释

##### 4.4.7 可怕的废话

##### 4.4.8 能用函数或变量时就别用注释

```java
//does the module from the global list<mod> depend on the 
// subsystem we are part of ?
if(submodule.getDependSubsystems().contains(subSysMod.getSubSystem()))
```

可以改成以下没有注释的版本：

```java
ArrayList moduleDependees = smodule.getDependSubsystems();
String ourSubSystem = subSysMod.getSubSystem();
if(moduleDependees.contains(ourSubSystem))
```



##### 4.4.9 位置标记

> 尽量少用标记栏，只在特别有价值的时候用。

##### 4.4.10 括号后面的注释

> 



